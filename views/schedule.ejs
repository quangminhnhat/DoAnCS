<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>TKB Tuần</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Trang Chủ</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="https://demos.creative-tim.com/notus-js/assets/styles/tailwind.css">
  <!-- link swiper-->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
  <link rel="stylesheet"
    href="https://demos.creative-tim.com/notus-js/assets/vendor/@fortawesome/fontawesome-free/css/all.min.css">

</head>

<body class="p-6 bg-gray-50">


  <header>
    <div class="header-container">
      <div class="logo">
        <img src="images/z6459306582259_85ca173d9f6beddf7ed7cd6dbfcaf7b1-removebg-preview.png" alt="Logo" width="90"
          height="90">
      </div>
      <nav>
        <ul>
          <li><a href="/">Trang Chủ</a></li>
          <li><a href="/school">Trung Tâm</a></li>
          <li>
            <a href="#0">Thư Viện</a>
            <ul>
              <li><a href="https://drive.google.com/drive/folders/1j_lNKViTx_UUyZNXRlkhRd-w9ghDxAYB">Sách Giáo Khoa</a>
              </li>
              <li><a href="#0">Tài Liệu Tham Khảo</a></li>
              <li><a href="#0">Tài Liệu Tiếng Anh</a></li>
            </ul>
          </li>
          <li>
            <a href="/news">Tin Tức - Sự Kiện</a>
          </li>
        </ul>
      </nav>

      <% if (!user) { %>
      <a href="/login" class="login-btn">
        <i class="fa-solid fa-user"></i> Login
      </a>
      <% } else { %>
      <div class="user-slidebar">
        <button class="user-btn">
          <i class="fa-solid fa-user"></i> <%= user.username || 'User' %> <i class="fa-solid fa-caret-down"></i>
        </button>
        <ul class="user-dropdown">
          <li><a href="/profile">Thông tin cá nhân</a></li>
          <li>
            <form action="/logout?_method=DELETE" method="POST" style="margin:0;">
              <button type="submit" style="background:none;border:none;padding:0;color:inherit;cursor:pointer;">
                Đăng xuất
              </button>
            </form>
          </li>
        </ul>
      </div>
      <% } %>



    </div>

  </header>



  <div class="max-w-6xl mx-auto bg-white shadow p-4">

    <!-- Header -->
    <div class="flex items-center mb-4">
      <h1 class="text-2xl font-semibold">Thời khóa biểu</h1>
      <div class="ml-auto flex gap-2">
        <a href="/schedule" class="px-4 py-1 bg-blue-600 text-white rounded">Tuần hiện tại</a>
        <a href="/schedule?weekStart=<%= prevWeekStart %>" class="px-2 bg-gray-200 rounded">&lt;</a>
        <div class="px-4 py-1 border rounded">
          Tuần: <%= days[0].date %> – <%= days[6].date %>
        </div>
        <a href="/schedule?weekStart=<%= nextWeekStart %>" class="px-2 bg-gray-200 rounded">&gt;</a>
      </div>
    </div>

    <!-- Grid -->
    <div class="grid grid-cols-8 border border-gray-300">
      <!-- Top-left corner -->
      <div class="bg-blue-700 text-white font-semibold p-2 text-center">&nbsp;</div>

      <!-- Day headers -->
      <% days.forEach(function(day) { %>
      <div class="bg-blue-700 text-white font-semibold p-2 text-center">
        <%= day.name %><br>
        <span class="text-xs font-normal">
          <%= day.date %>
        </span>
      </div>
      <% }); %>

      <!-- Period rows (1 through maxPeriod+1) -->
      <% for (var i=1; i <=14; i++) { %>
      <!-- Label column -->
      <div class="bg-blue-600 text-white text-sm font-medium p-2 text-center">
        Tiết <%= i %>
      </div>

      <!-- One cell per day -->
      <% days.forEach(function(day) { var cell=scheduleData.find(function(s){ return s.date===day.iso &&
              s.periodIndex===i; }); %>
      <div class="border border-gray-200 p-2 text-xs text-center h-20 align-top
                      <% if (cell) { %> bg-blue-50 border-l-4 border-blue-400 <% } %>">
        <% if (cell) { %>
        <div class="font-semibold text-blue-800">
          <%= cell.className %>
        </div>
        <div class="text-gray-600 text-xs">
          <%= cell.teacher %>
        </div>
        <% } else { %>
        &nbsp;
        <% } %>
      </div>
      <% }); %>
      <% } %>

    </div>
  </div>
  <footer class="relative bg-blueGray-200 pt-8 pb-6">
    <div class="container mx-auto px-4">
      <div class="flex flex-wrap text-left lg:text-left">
        <div class="w-full lg:w-6/12 px-4">
          <h4 class="text-3xl fonat-semibold text-blueGray-700">Liên hệ với chúng tôi!</h4>
          <h5 class="text-lg mt-0 mb-2 text-blueGray-600">
            Tìm kiếm chúng tôi trên bất kỳ mạng xã hội nào và gửi cho chúng tôi một tin nhắn! Chúng tôi sẽ trả lời bạn
            ngay khi có thể.
          </h5>
          <div class="mt-6 lg:mb-0 mb-6">
            <button
              class="bg-white text-lightBlue-400 shadow-lg font-normal h-10 w-10 items-center justify-center align-center rounded-full outline-none focus:outline-none mr-2"
              type="button">
              <i class="fab fa-twitter"></i></button><button
              class="bg-white text-lightBlue-600 shadow-lg font-normal h-10 w-10 items-center justify-center align-center rounded-full outline-none focus:outline-none mr-2"
              type="button">
              <i class="fab fa-facebook-square"></i></button><button
              class="bg-white text-pink-400 shadow-lg font-normal h-10 w-10 items-center justify-center align-center rounded-full outline-none focus:outline-none mr-2"
              type="button">
              <i class="fab fa-dribbble"></i></button><button
              class="bg-white text-blueGray-800 shadow-lg font-normal h-10 w-10 items-center justify-center align-center rounded-full outline-none focus:outline-none mr-2"
              type="button">
              <i class="fab fa-github"></i>
            </button>
          </div>
        </div>
        <div class="w-full lg:w-6/12 px-4">
          <div class="flex flex-wrap items-top mb-6">
            <div class="w-full lg:w-4/12 px-4 ml-auto">
              <span class="block uppercase text-blueGray-500 text-sm font-semibold mb-2">Bạn Đang Tìm Kiếm</span>
              <ul class="list-unstyled">
                <li>
                  <a class="text-blueGray-600 hover:text-blueGray-800 font-semibold block pb-2 text-sm" href="">Liên
                    Hệ</a>
                </li>
                <li>
                  <a class="text-blueGray-600 hover:text-blueGray-800 font-semibold block pb-2 text-sm" href="">Thông
                    Tin Mới</a>
                </li>
                <li>
                  <a class="text-blueGray-600 hover:text-blueGray-800 font-semibold block pb-2 text-sm" href="">Tuyển
                    Dụng</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <hr class="my-6 border-blueGray-300">
      <div class="flex flex-wrap items-center md:justify-between justify-center">
        <div class="w-full md:w-4/12 px-4 mx-auto text-center">
          <div class="text-sm text-blueGray-500 font-semibold py-1">
            Copyright © <span id="get-current-year">2025</span><a href="https://www.facebook.com/ttgdvpttnht"
              class="text-blueGray-500 hover:text-gray-800" target="_blank"> Talent Education</a>. Made by
            <a href="https://github.com/Rin-0808" class="text-blueGray-500 hover:text-blueGray-800">Rin</a>.
          </div>
        </div>
      </div>
    </div>
  </footer>
</body>

</html>